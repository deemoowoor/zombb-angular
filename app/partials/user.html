<div class="well">
    <a ng-hide="editmode" href="#/users/{{ user.id }}/edit" class="btn btn-warning"><i class="fa fa-edit"></i> Edit</a>
    <a ng-show="editmode" href="#/users/{{ user.id }}" class="btn btn-success"><i class="fa fa-user"></i> User page</a>
    <a href="#/" class="btn btn-default"><i class="fa fa-undo"></i> Topics</a>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h2 class="panel-title" ng-hide="register">
            <span ng-show="editmode">Edit</span> {{ user.name }}</h2>

        <h2 class="panel-title" ng-show="register">Sign up</h2>
    </div>
    <div class="panel-body">

        <div ng-hide="editmode">
            <p><strong>Email:</strong> {{ user.email }} </p>
            <p><strong>Role:</strong> {{ user.role }} </p>
        </div>

        <div ng-show="editmode">
            <form id="useredit" role="edit" class="form-horizontal" ng-submit="submit()">
                <div ng-show="error" class="alert alert-danger">
                    <h4>Errors found in the form:</h4>
                    <div ng-repeat="(field, errdesc) in error"><strong>{{ field }}</strong>
                        <ul>
                            <li ng-repeat="erritem in errdesc">{{ erritem }}</li>
                        </ul>
                    </div>
                </div>
                <div ng-show="register" class="form-group">
                    <label for="name" class="col-sm-2 control-label">Name</label>
                    <div class="col-sm-10">
                        <input type="text" name="name" ng-model="user.name"
                        class="form-control input-large" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="email" class="col-sm-2 control-label">Email</label>
                    <div class="col-sm-10">
                        <input type="email" name="email" ng-model="user.email"
                        class="form-control input-large" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="password" class="col-sm-2 control-label">Password</label>
                    <div class="col-sm-10">
                        <input type="password" name="password"
                        ng-model="user.password" autocomplete="off"
                        class="form-control input-large" />
                        <i ng-hide="register">Leave blank if you don't want to change it</i>
                    </div>
                </div>
                <div class="form-group">
                    <label for="password_confirmation"
                        class="col-sm-2 control-label">Password confirmation</label>
                    <div class="col-sm-10">
                        <input type="password" name="password_confirmation"
                        ng-model="user.password_confirmation" autocomplete="off"
                        class="form-control input-large" />
                    </div>
                </div>
                <div ng-hide="register" class="form-group">
                    <label for="current_password" class="col-sm-2 control-label">Current password</label>
                    <div class="col-sm-10">
                        <input type="password" name="current_password"
                        ng-model="user.current_password" autocomplete="off"
                        class="form-control input-large" />

                        <i>We need your current password to confirm your changes</i>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input type="submit" class="btn btn-success" value="Save" />
                        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
                    </div>
                </div>
            </form>

            <div ng-hide="register" class="col-sm-offset-2 col-sm-11">
                <h2>Cancel my account</h2>
                <p>Zombies don't make you happy anymore?
                <strong>Beware, there's no way back!</strong></p>

                <button class="btn btn-danger btn-lg"
                    ng-click="deleteAccount()">Cancel my account</button>
            </div>
        </div>

    </div>
</div>
